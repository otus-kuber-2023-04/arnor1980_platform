# Выполнено ДЗ №3
# Тема: Сетевое взаимодействие Pod, сервисы

 - [x] Основное ДЗ
 - [x] Задание с * coredns
 - [ ] Задание с ** слишком долго возился с отсутствием IP у Ingress

## В процессе сделано:
 - Работа с тестовым веб-приложением
		- Отредактировал манифест тестового веб-приложения 
		- Запустил POD, проверил готовность - ошибка	
		- Добавил проверку на живость порта 8000
    - Создание Web Deployment 
		- Создал Deployment из манифеста Pod'а, запустил и проверил	что приложение запустилось
		- Поменял парметры стратегии обновления отката, рассмотрел как они влияют на процесс развертывания и отката
    - Создание Service Cluster IP
		- Создал сервис с типом Cluster IP
		- Проверил что в качестве конечных точек выступают все pod deployment 
		- Протестировал доступность
    - Настроил IPVS проверил доступность приложения 
		- в моем minikube нет toolbox не смог установить ipvsadmin.
		- кластерный адрес не пингуется но доступен по 80 порту.
		- на интерфейс minikube адрес назначен.
		
 - Работа с Ingress
	- Установил Metallb 
	   - Проверил что сервис развернулся - ошибки
	   - По манифесам из ДЗ не разворачивался, взял новые из репо разработчика и по их документации настроил
       - Настроил пул адресов балансировщика
	- Настройка балансировки веб приложения
	   - Настроил и развернул веб приложение 
	   - Убедился что балансировщик веб приложением развенулся
	   - Настроил маршрутизацию из внешней сети и убедился что сервис работает
    - Задание со звездочкой - настроил манифест для развертывания балансировщика coredns
		- Разместил сервис балансирощика в системном namespace
		- Проверил работоспособность командой: nslookup web-svc-lb.default.svc.cluster.local 172.17.255.10
    - Запустил Ingres по инструкции
		- Создал headless service
		- Применил манифест с правилами ingress
		- Убедился в том что адрес получается
			- если устанавливать из манифестов ДЗ не получается
			- если ставить плагин миникуба то все ОК - не удалось понять почему.
		- Убедился в доступности сервиса по адресу баласировщика

## Как запустить проект:
		- Из рабочего каталога запустить
				kubectl apply -f web-deploy.yaml
				kubectl apply -f web-svc-lb.yaml
				kubectl applu -f web-svc-headless.yaml
				kubectl apply -f web-ingress.yaml

## Как проверить работоспособность:
        - curl http://lb-ip/web/index.html

## PR checklist:
    - [x] Выставлен label с темой домашнего задания
    - [x] Высалвен label с необходимстью Review
